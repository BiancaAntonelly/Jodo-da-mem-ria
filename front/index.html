<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="./css/style.css" />
    <link
      rel="stylesheet"
      href="https://fonts.google.com/share?selection.family=Kode+Mono:wght@400..700"
    />
    <link
      rel="stylesheet"
      href="https://fonts.google.com/share?selection.family=Chakra+Petch:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700|Kode+Mono:wght@400..700|Press+Start+2P"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />

    <title>Memory Game</title>
  </head>
  <body>
      <div class="login-header">
          <h1>Memory Game</h1>
      </div>
    <div class="main">
      <nav><h1>Vamos jogar!</h1></nav>
      <form class="login-form" action="/memory-game" method="GET">
        <div class="input-area">
          <span>Digite seu nome: </span>
          <input
            type="text"
            placeholder="Nome"
            id="nome"
            class="login-input"
            name="nome"
          />
        </div>
        <div
          class="alert alert-danger alert-white rounded"
          id="error-card-nome"
          style="display: none"
        >
          <div class="icon"><i class="fa fa-times-circle"></i></div>
          <strong>Error!</strong> VocÃª precisa preencher o campo nome.
        </div>
          <a id="button" href="#" class="btn btn-white btn-animate">Play</a>
      </form>
    </div>

    <div class="scoreboard">
      <nav><h1>Ranking</h1></nav>
      <ul id="ranking">

      </ul>
    </div>
    <script src="./js/index.js"></script>
    <script>
      const input = document.querySelector(".login-input");
      const form = document.querySelector(".login-form");

      const handleSubmit = (event) => {
        event.preventDefault();

        localStorage.setItem("player", input.value);
        form.submit();
        window.location = "pages/memoryGame.html";
      };

      form.addEventListener("submit", handleSubmit);

      var botaoJogar = document.getElementById("button");
      var inputNome = document.getElementById("nome");
      var errorCard = document.getElementById("error-card-nome");

      botaoJogar.addEventListener("click", function (event) {
        event.preventDefault();

        if (inputNome.value.trim() === "") {
          errorCard.style.display = "block";
          setTimeout(function () {
            errorCard.style.display = "none";
          }, 3000);
        }

        if (inputNome.value.trim() !== "") {
          localStorage.setItem("player", inputNome.value);
          form.submit();
        }
      });
    </script>
  </body>
</html>
